# ğŸ¨ YouTube Thumbnail Maker - AI ì¸ë„¤ì¼ ì œì‘ê¸°

YouTube ê²½ìŸë„ ë¶„ì„ê³¼ AI ê¸°ë°˜ ì¸ë„¤ì¼ ìë™ ìƒì„± í”Œë«í¼

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

- **ì´ë¦„**: YouTube Thumbnail Maker
- **ëª©í‘œ**: YouTube í‚¤ì›Œë“œ ë¶„ì„ + AI ê¸°ë°˜ ìê·¹ì ì¸ í•œê¸€ ì œëª©ì´ í¬í•¨ëœ 16:9 ì¸ë„¤ì¼ ìë™ ìƒì„±
- **ëŒ€ìƒ ì‚¬ìš©ì**: 1ì¸ í¬ë¦¬ì—ì´í„°, ìœ íŠœë²„, ì½˜í…ì¸  ë§ˆì¼€í„°

## ğŸŒ URL

- **ê°œë°œ ì„œë²„**: https://3000-ib1vrhp3boc20p22c1s5d-2b54fc91.sandbox.novita.ai
- **GitHub**: https://github.com/seulkikangkc-design/youtube-maker
- **í”„ë¡œì íŠ¸ ìœ„ì¹˜**: `/home/user/webapp`

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### í˜„ì¬ ì™„ì„±ëœ ê¸°ëŠ¥

1. **íšŒì› ì¸ì¦ ì‹œìŠ¤í…œ**
   - ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜ íšŒì›ê°€ì…/ë¡œê·¸ì¸
   - JWT í† í° ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬
   - ê°€ì… ì‹œ 1000 í¬ë ˆë”§ ìë™ ì§€ê¸‰

2. **ğŸ”¥ íŠ¸ë Œë“œ í‚¤ì›Œë“œ ì¶”ì²œ**
   - YouTube Trending API ê¸°ë°˜ ì‹¤ì‹œê°„ íŠ¸ë Œë“œ ë¶„ì„
   - ì¹´í…Œê³ ë¦¬ë³„ ì¸ê¸° í‚¤ì›Œë“œ ì¶”ì²œ
   - í´ë¦­ í•œ ë²ˆìœ¼ë¡œ í‚¤ì›Œë“œ ìë™ ì…ë ¥

3. **í‚¤ì›Œë“œ ë¶„ì„**
   - YouTube Data APIë¥¼ í†µí•œ ê²½ìŸë„ ë¶„ì„
   - Gemini APIë¥¼ í†µí•œ AI ê¸°ë°˜ ê°€ì¹˜ íŒë‹¨
   - ì˜ìƒ ì½˜ì…‰íŠ¸ ì•„ì´ë””ì–´ 3ê°œ ì œì•ˆ
   - Hook Line (ì²« 3ì´ˆ) ìë™ ìƒì„±

4. **ğŸ¨ ì¸ë„¤ì¼ ìë™ ìƒì„± (NEW!)**
   - Google AI Studio Imagen 3 ê¸°ë°˜ ì‹¤ì œ ì´ë¯¸ì§€ ìƒì„±
   - 16:9 ë¹„ìœ¨ ìµœì í™”
   - ìê·¹ì ì´ê³  ë³¼ë“œí•œ í•œê¸€ ì œëª© í¬í•¨
   - ì˜¤ë¸Œì œ + ì œëª© ì¡°í•©
   - 50 í¬ë ˆë”§ ì†Œëª¨

5. **í¬ë ˆë”§ ì‹œìŠ¤í…œ**
   - ì¸ë„¤ì¼ ìƒì„± ì‹œ 50 í¬ë ˆë”§ ì°¨ê°
   - ì˜ìƒ ë¡œê·¸ ìƒì„± ì‹œ 100 í¬ë ˆë”§ ì°¨ê°
   - ì›ìì  íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì•ˆì „í•œ í¬ë ˆë”§ ê´€ë¦¬
   - ìµœëŒ€ 10ê°œ ì˜ìƒ ìƒì„± ì œí•œ
   - ëª¨ë“  í¬ë ˆë”§ ë³€ê²½ ë¡œê·¸ ê¸°ë¡

6. **ê´€ë¦¬ì íŒ¨ë„**
   - ì „ì²´ ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ
   - ì‚¬ìš©ìë³„ í¬ë ˆë”§ ì¡°ì • (ì¶”ê°€/ì°¨ê°)
   - ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬ (user â†” admin)
   - í¬ë ˆë”§ ë³€ê²½ ë¡œê·¸ ì¡°íšŒ

### ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì€ ê¸°ëŠ¥

- ê²°ì œ ì‹œìŠ¤í…œ (Payment)
- íŒ€ ê³„ì • ê¸°ëŠ¥
- ë‹¤êµ­ì–´ ì§€ì›

## ğŸ¨ ì¸ë„¤ì¼ ìƒì„± ìƒì„¸

### Google AI Studio API í†µí•©

**í…ìŠ¤íŠ¸ ë¶„ì„**: `gemini-3.1-pro-preview`
- YouTube ê²½ìŸë„ ë¶„ì„
- ì˜ìƒ ì½˜ì…‰íŠ¸ ì œì•ˆ
- Hook Line ìƒì„±

**ì´ë¯¸ì§€ ìƒì„±**: `gemini-3-pro-image-preview`
- 16:9 ë¹„ìœ¨ (1920x1080)
- ìê·¹ì ì´ê³  ë³¼ë“œí•œ í•œê¸€ ì œëª©
- ê³ í’ˆì§ˆ JPEG/PNG ì´ë¯¸ì§€
- Base64 ì¸ì½”ë”© ì§ì ‘ ë°˜í™˜

### ì¸ë„¤ì¼ í”„ë¡¬í”„íŠ¸ êµ¬ì¡°
```
- 16:9 ratio (YouTube ìµœì í™”)
- Eye-catching main object/subject
- LARGE, BOLD Korean text prominently displayed
- High contrast colors (vibrant and attention-grabbing)
- Professional, clean design
- Dramatic lighting or visual effects
```

### ìƒì„± ê²°ê³¼ ì˜ˆì‹œ
```json
{
  "success": true,
  "thumbnail": {
    "imageUrl": "data:image/jpeg;base64,/9j/4AAQ...",
    "prompt": "YouTube thumbnail for ë¬´ì„  ì´ì–´í°...",
    "model": "gemini-3-pro-image-preview"
  },
  "keyword": "ë¬´ì„  ì´ì–´í°",
  "hookLine": "ğŸ”¥ ê°€ì„±ë¹„ ìµœê³  ë¬´ì„  ì´ì–´í° TOP 5",
  "creditsDeducted": 50
}
```

## ğŸ—ï¸ ë°ì´í„° êµ¬ì¡°

### ë°ì´í„°ë² ì´ìŠ¤ (D1 SQLite)

**Users í…Œì´ë¸”**
- id, email, password_hash, role (user/admin)
- credits (ê¸°ë³¸ 1000), videos_created (ê¸°ë³¸ 0)
- created_at, last_login_at

**VideoLogs í…Œì´ë¸”**
- id, user_id, keyword, credits_used
- status (processing/completed/failed)
- analysis_result (JSON), created_at

**CreditLogs í…Œì´ë¸”**
- id, user_id, change_amount, reason
- admin_id (nullable), created_at

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: Hono Framework on Cloudflare Workers
- **Database**: Cloudflare D1 (SQLite)
- **Frontend**: Vanilla JavaScript + TailwindCSS
- **Authentication**: JWT (Web Crypto API)
- **External APIs**: 
  - YouTube Data API v3
  - Google AI Studio API (Gemini + Imagen)
    - `gemini-3.1-pro-preview` - í…ìŠ¤íŠ¸ ë¶„ì„
    - `gemini-3-pro-image-preview` - ì´ë¯¸ì§€ ìƒì„±

## ğŸ’° í¬ë ˆë”§ ì‹œìŠ¤í…œ

| ê¸°ëŠ¥ | í¬ë ˆë”§ | ì„¤ëª… |
|------|--------|------|
| ê°€ì… ë³´ë„ˆìŠ¤ | +1,000 | ìµœì´ˆ ê°€ì… ì‹œ ìë™ ì§€ê¸‰ |
| í‚¤ì›Œë“œ ë¶„ì„ | ë¬´ë£Œ | YouTube + Gemini ë¶„ì„ |
| ì¸ë„¤ì¼ ìƒì„± | -50 | Google AI Studio Imagen 3 |
| ì˜ìƒ ë¡œê·¸ ìƒì„± | -100 | ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ |

## ğŸ“– ì‚¬ìš© ë°©ë²•

### ì¼ë°˜ ì‚¬ìš©ì

1. **íšŒì›ê°€ì…**: ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ê°€ì… (1000 í¬ë ˆë”§ ìë™ ì§€ê¸‰)
2. **í‚¤ì›Œë“œ ì…ë ¥**: ë¶„ì„í•˜ê³  ì‹¶ì€ í‚¤ì›Œë“œ ì…ë ¥ (ì˜ˆ: "ë¬´ì„  ì´ì–´í°")
3. **ë¶„ì„ ê²°ê³¼ í™•ì¸**: YouTube ê²½ìŸë„ + AI íŒë‹¨ + Hook Line í™•ì¸
4. **ì¸ë„¤ì¼ ìƒì„±**: 50 í¬ë ˆë”§ìœ¼ë¡œ ìê·¹ì ì¸ í•œê¸€ ì œëª© ì¸ë„¤ì¼ ìƒì„±

### ê´€ë¦¬ì

1. `/admin` í˜ì´ì§€ ì ‘ì†
2. ì „ì²´ ì‚¬ìš©ì ëª©ë¡ í™•ì¸
3. í¬ë ˆë”§ ì¡°ì • ë˜ëŠ” ê¶Œí•œ ë³€ê²½

## ğŸš€ ê°œë°œ í™˜ê²½ ì„¤ì •

### ë¡œì»¬ ê°œë°œ

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
npm run db:migrate:local

# ë¹Œë“œ
npm run build

# ê°œë°œ ì„œë²„ ì‹œì‘ (PM2)
pm2 start ecosystem.config.cjs
```

### í™˜ê²½ ë³€ìˆ˜ (.dev.vars)

```env
YOUTUBE_API_KEY=your_youtube_api_key_here
GEMINI_API_KEY=your_gemini_api_key_here
JWT_SECRET=super-secret-jwt-key-change-in-production
```

**âš ï¸ ì¤‘ìš”**: 
- `.dev.vars` íŒŒì¼ì€ Gitì— ì»¤ë°‹ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ (`.gitignore`ì— í¬í•¨)
- **ì‹¤ì œ API í‚¤ëŠ” ì ˆëŒ€ Gitì— ì˜¬ë¦¬ì§€ ë§ˆì„¸ìš”!**
- í”„ë¡œë•ì…˜ ë°°í¬ ì‹œ Cloudflare Secretsë¡œ ê´€ë¦¬

## ğŸ“¦ í”„ë¡œë•ì…˜ ë°°í¬

### Cloudflare Pages ë°°í¬ ë‹¨ê³„

1. **D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±**
```bash
npx wrangler d1 create youtube-thumbnail-maker-production
# ì¶œë ¥ëœ database_idë¥¼ wrangler.jsoncì— ì¶”ê°€
```

2. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
```bash
npx wrangler pages secret put YOUTUBE_API_KEY
npx wrangler pages secret put GEMINI_API_KEY
npx wrangler pages secret put JWT_SECRET
```

3. **ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜**
```bash
npm run db:migrate:prod
```

4. **ë¹Œë“œ ë° ë°°í¬**
```bash
npm run deploy
```

## ğŸ¨ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
webapp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.tsx              # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ types.ts               # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.ts            # ì¸ì¦ ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ api.ts             # API ë¼ìš°íŠ¸ (ì¸ë„¤ì¼ ìƒì„± í¬í•¨)
â”‚   â”‚   â””â”€â”€ admin.ts           # ê´€ë¦¬ì ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ youtube.ts         # YouTube API ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ gemini.ts          # Gemini í…ìŠ¤íŠ¸ ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ gemini-media.ts    # Imagen ì´ë¯¸ì§€ ìƒì„±
â”‚   â”‚   â””â”€â”€ trending.ts        # íŠ¸ë Œë“œ í‚¤ì›Œë“œ
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ auth.ts            # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ crypto.ts          # ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
â”‚       â””â”€â”€ jwt.ts             # JWT í† í° ê´€ë¦¬
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ app.js                 # í”„ë¡ íŠ¸ì—”ë“œ ë©”ì¸ ë¡œì§
â”‚   â””â”€â”€ admin.js               # ê´€ë¦¬ì í˜ì´ì§€ ë¡œì§
â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ 0001_initial_schema.sql # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ .dev.vars                  # ë¡œì»¬ í™˜ê²½ ë³€ìˆ˜ (Git ì œì™¸)
â”œâ”€â”€ wrangler.jsonc             # Cloudflare ì„¤ì •
â””â”€â”€ package.json               # í”„ë¡œì íŠ¸ ì„¤ì •
```

## ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„ ê¶Œì¥ì‚¬í•­

1. **ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ê³„ì • ìƒì„±**
   - íšŒì›ê°€ì… í›„ í…ŒìŠ¤íŠ¸
   - í‚¤ì›Œë“œ ë¶„ì„ í…ŒìŠ¤íŠ¸
   - ì¸ë„¤ì¼ ìƒì„± í…ŒìŠ¤íŠ¸

2. **ê´€ë¦¬ì ê¶Œí•œ ë¶€ì—¬**
   - ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì ‘ê·¼í•˜ì—¬ roleì„ 'admin'ìœ¼ë¡œ ë³€ê²½
   ```bash
   npm run db:console:local
   UPDATE users SET role = 'admin' WHERE email = 'your@email.com';
   ```

3. **í”„ë¡œë•ì…˜ ë°°í¬**
   - Cloudflare ê³„ì • ìƒì„±
   - D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
   - API í‚¤ ì„¤ì •
   - ë°°í¬ ë° í…ŒìŠ¤íŠ¸

## ğŸ” ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

- `.dev.vars` íŒŒì¼ì€ ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”
- í”„ë¡œë•ì…˜ì—ì„œëŠ” ê°•ë ¥í•œ JWT_SECRET ì‚¬ìš©
- API í‚¤ëŠ” Cloudflare Secretsë¡œ ê´€ë¦¬
- Google AI Studio API í‚¤ëŠ” ìœ ì¶œ ì‹œ ì¦‰ì‹œ ì¬ë°œê¸‰

## ğŸ“Š ì‹œìŠ¤í…œ ìƒíƒœ

- âœ… ì¸ì¦ ì‹œìŠ¤í…œ: ì™„ë£Œ
- âœ… YouTube API í†µí•©: ì™„ë£Œ
- âœ… Gemini í…ìŠ¤íŠ¸ ë¶„ì„: ì™„ë£Œ (gemini-3.1-pro-preview)
- âœ… **Imagen ì´ë¯¸ì§€ ìƒì„±: ì™„ë£Œ (gemini-3-pro-image-preview)**
- âœ… íŠ¸ë Œë“œ í‚¤ì›Œë“œ ì¶”ì²œ: ì™„ë£Œ
- âœ… í¬ë ˆë”§ ì‹œìŠ¤í…œ: ì™„ë£Œ
- âœ… ê´€ë¦¬ì íŒ¨ë„: ì™„ë£Œ
- âœ… Frontend UI: ì™„ë£Œ

## ğŸ› ìµœê·¼ ìˆ˜ì • ì‚¬í•­

### 2026-02-24
- âœ… **YouTube Thumbnail Makerë¡œ ì „í™˜**
  - ì˜ìƒ ìƒì„± ê¸°ëŠ¥ ì œê±° (VeoëŠ” async API í•„ìš”)
  - ì¸ë„¤ì¼ ìë™ ìƒì„± ê¸°ëŠ¥ ì¶”ê°€
  - Google AI Studio Imagen 3 ì‹¤ì œ ì‘ë™ í™•ì¸
  - 16:9 ë¹„ìœ¨ + í•œê¸€ ì œëª© ìµœì í™”
  - UI/UX ì—…ë°ì´íŠ¸ (ë¸Œëœë”© ë³€ê²½)

### 2026-01-27
- âœ… Gemini JSON íŒŒì‹± ì•ˆì •í™”
- âœ… íŠ¸ë Œë“œ í‚¤ì›Œë“œ ì¶”ì²œ ê¸°ëŠ¥ ì¶”ê°€
- âœ… ì •ì  íŒŒì¼ ì„œë¹™ ë¬¸ì œ í•´ê²°

## ğŸ¤ ê¸°ì—¬

- **ê°œë°œ**: Claude (AI Assistant)
- **PRD**: ìŠ¬ê¸°ë‹˜
- **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-02-24
